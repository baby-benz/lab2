function loadNavbar(){g_viewModel={navBarData:ko.observable(),activateManager:function(e,t){"A"===(t.target||t.srcElement).nodeName?postRequest("NavBar/ButtonClick.cmd","BackButton"):postRequest("NavBar/FreeSpaceClick.cmd","")}},loadData(),ko.applyBindings(g_viewModel)}function loadData(){postRequest("NavBar/PageLoadComplete.cmd","",initData,function(e){loadMockData()})}function loadMockData(){postRequest("./mockups/navbar.json","",initData,initData)}function update(e){postRequest("NavBar/GetPageData.cmd",e,initData)}function initData(e){if(e=JSON.parse(e),g_navBarData){var t,a=Object.keys(e.content),n=a.length;for(t=0;n>t;t++)$(g_navBarData).prop(a[t],e.content[a[t]])}else g_navBarData=e.content;g_viewModel.navBarData(g_navBarData),postRequest("NavBar/SetPanelHeight.cmd",""+(document.getElementById("mainContainer").clientHeight+16),function(){})}function postRequest(e,t,a,n){var o="string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return i.open("POST",e),i.onreadystatechange=function(){i.readyState>3&&(200==i.status?a&&a(i.responseText):n&&n(i.responseText))},i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o),i}var g_viewModel,g_navBarData;